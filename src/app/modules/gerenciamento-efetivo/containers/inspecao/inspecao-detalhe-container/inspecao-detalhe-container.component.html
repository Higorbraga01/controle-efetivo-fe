<section class="l-finor-cadastro-container" xmlns="http://www.w3.org/1999/html">
  <header>
    <div class="l-finor-cadastro-container__header">
      <div class="l-main-grid">
        <div class="col-12 xl-10 col-offset-1"></div>
        <div
          class="
            l-finor-cadastro-container__title-wrapper
            col-12
            xl-10
            flex
            align-items-center
            justify-content-between
            mb-3
          "
        >
          <div>
            <h2 class="l-finor-cadastro-container__title ml-3">
              Inspeção - Detalhe
            </h2>
          </div>
          <div>
            <p-button
              label="VOLTAR"
              icon="pi pi-directions-alt"
              [routerLink]="'/inspecao'"
              styleClass="p-button-outlined p-button-secondary mr-3"
            ></p-button>
          </div>
        </div>
      </div>
    </div>
  </header>
  <div class="l-main-grid">
    <p-card styleClass="mt-3 p-reset">
      <div *ngIf="blocked" class="custom-skeleton p-p-4">
        <p-skeleton width="100%" height="640px"></p-skeleton>
      </div>
      <div *ngIf="!blocked" class="formgrid grid">
        <div class="col-12">
          <div class="flex justify-content-center">
            <label>Inspecionado</label>
          </div>
          <div class="mt-3 mb-3 flex justify-content-center">
            {{ inspecao?.pessoa.posto ? inspecao?.pessoa.posto : "CV"}}
            {{ inspecao?.pessoa.tarefaTempoCerto == "TTC"? "R/1" : "" }}
            {{
              inspecao?.pessoa.especialidade
                ? inspecao?.pessoa.especialidade
                : ""
            }}
            {{ inspecao?.pessoa.nome }}
          </div>
        </div>
        <div class="col-12">
          <p-divider align="center">
            <span class="p-tag">Finalidade</span>
    </p-divider>
        </div>
        <div class="col-12">
          <div class="flex">
            <div class="col-2">
              <label>Codigo finalidade</label>
              <div class="mt-2">
                {{ inspecao?.finalidadeInspecao.codigo }}
              </div>
            </div>
            <div class="col-10">
              <label>Descrição finalidade </label>
              <div class="mt-2 text-justify">
                {{ inspecao?.finalidadeInspecao.descricao }}
              </div>
            </div>
          </div>
        </div>
        <div class="col-12">
            <p-divider align="center">
              <span class="p-tag">Subfinalidade</span>
            </p-divider>
        </div>
        <div class="col-12">
          <div class="flex">
            <div class="col-2">
              <label>Codigo subfinalidade</label>
              <div class="mt-2">
                {{ inspecao?.subFinalidadeInspecao?.codigo? inspecao?.subFinalidadeInspecao?.codigo : "N/A" }}
              </div>
            </div>
            <div class="col-10">
              <label>Descrição subfinalidade </label>
              <div class="mt-2 text-justify">
                {{ inspecao?.subFinalidadeInspecao?.descricao? inspecao?.subFinalidadeInspecao?.descricao: "N/A" }}
              </div>
            </div>
          </div>
        </div>
        <div class="col-12">
          <p-divider align="center">
            <span class="p-tag">Classificação</span>
          </p-divider>
        </div>
        <div class="col-12">
          <div class="flex">
            <div class="col-2">
              <label>Codigo classificação</label>
              <div class="mt-2">
                {{ inspecao?.classificacaoInspecao?.codigo }}
              </div>
            </div>
            <div class="col-10">
              <label>Descrição classificação </label>
              <div class="mt-2 text-justify">
                {{ inspecao?.classificacaoInspecao?.descricao }}
              </div>
            </div>
          </div>
        </div>
        <div class="col-12">
          <p-divider align="center">
            <span class="p-tag">Subclassificação</span>
          </p-divider>
        </div>
        <div class="col-12">
          <div class="flex">
            <div class="col-2">
              <label>Codigo subclassificação</label>
              <div class="mt-2">
                {{ inspecao?.subClassificacaoInspecao?.codigo }}
              </div>
            </div>
            <div class="col-10">
              <label>Descrição subclassificação </label>
              <div class="mt-2 text-justify">
                {{ inspecao?.subClassificacaoInspecao?.descricao }}
              </div>
            </div>
          </div>
        </div>
        <div class="col-12">
          <p-divider align="center">
            <span class="p-tag">Resultado</span>
          </p-divider>
        </div>
        <div class="col-12">
          <div class="flex">
            <div class="col-2">
              <label>Codigo resultado</label>
              <div class="mt-2">
                {{ inspecao?.julgamentoJuntaSaude?.codigo }}
              </div>
            </div>
            <div class="col-6">
              <label>Descrição resultado</label>
              <div class="mt-2">
                {{ inspecao?.julgamentoJuntaSaude?.descricao }}
              </div>
            </div>
            <div class="col-2">
              <label>Realizada em</label>
              <div class="mt-2">
                {{ inspecao?.dataRealizacao | date: "dd/MM/yyyy" }}
              </div>
            </div>
            <div class="col-2">
              <label>Data de Validade</label>
              <div class="mt-2">
                <div
                  [ngClass]="{
                    'dt-vencida': hoje.isSameOrAfter(inspecao?.dataValidade),
                    'dt-valida': hoje.isBefore(inspecao?.dataValidade)
                  }"
                >
                  {{ inspecao?.dataValidade | date: "dd/MM/yyyy" }}
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </p-card>
  </div>
</section>
